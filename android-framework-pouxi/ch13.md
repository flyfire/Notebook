### 13.View工作原理

用户通过触摸屏或键盘灯输入设备产生输入消息，该消息首先被消息处理前端转换为更明确的消息值。接下来，窗口管理系统WMS根据所有窗口的状态判断用户正在与哪个窗口进行交互，然后把该消息发送给当前窗口。因为窗口是由WMS创建的，因此WMS知道所有客户窗口的信息，包括窗口的大小、位置等。当消息到达时，如果是按键消息，则直接发送给当前窗口，如果是触摸消息，则WMS会根据消息的位置坐标去匹配所有的窗口，判断该坐标落到了哪个窗口区域中，然后把该消息发送给相应的窗口。最后，消息顺利到达目标窗口，至于目标窗口内部如何处理该消息则完全是窗口的“内政”。