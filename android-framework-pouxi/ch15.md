### 15.资源访问机制

实际上styleable仅仅是在R.java中增加了一个int[]数组而已，aapt为每一个attr分配一个指定的id值，这个数组的内容正是该styleable所包含的所有attr的id值。

attr的名称在该应用程序范围中必须是唯一的。如果在attr后面仅仅有一个name而没有format，那么就是引用，否则就是声明，只能有一个声明，但可以有多个引用。

res目录包含了开发工程中res目录下除了values以外的所有内容，一般包含各种layout和drawable，layout的内容都是以二进制xml格式保存的，而所有的drawable图像资源都是未经压缩过的原始图像文件。一般所见的png，jpg图像文件本身就是已经压缩过的文件，因此，无需再压缩。

resources.arsc十一种二进制格式的文件，与二进制xml完全不同。aapt在对资源文件进行编译时，回味每一个资源分配唯一的id值，程序在执行时会根据这些id值读取特定的资源，而resources.arsc文件正式包含了所有id值的一个数据集合。在该文件中，如果某个id对应的资源是String或者数值（int,long），那么该文件会直接包含相应的值，如果id对应的资源是某个layout或者drawable资源，那么该文件会存入对应资源的路径地址。