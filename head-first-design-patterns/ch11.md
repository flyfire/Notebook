# 11.代理模式

代理要做的事：控制和管理访问。

代理模式为另一个对象提供一个替身或占位符以控制对这个对象的访问。使用代理模式创建代表representative对象，让代表对象控制某对象的访问，被代理的对象可以是远程的对象、创建开销大的对象或需要安全控制的对象。

动态代理传入Proxy.newProxyInstance()方法的接口类型有一些限制

+ 总是传递接口数组，此数组内只能有接口，不能有类
+ 如果接口不是public，就必须属于同一个package，不同的接口内，不可以有名称和参数完全一样的方法

代理模式为另一个对象提供代表，以便控制客户对对象的访问，管理访问的方式有许多种。

远程代理管理客户和远程对象之间的交互。

虚拟代理控制访问实例化开销大的对象。

保护代理基于调用者控制对对象方法的访问。

代理模式有许多变体，例如：缓存代理、同步代理、防火墙代理和写入时复制代理。

代理在结构上类似装饰者，但是目的不同。装饰者模式为对象加上行为，而代理则是控制访问。

Java内置的代理支持，可以根据需要建立动态代理，并将所有调用分配到所选的处理器。

就和其他的包装者一样，代理会造成你的设计中类的数目增加。